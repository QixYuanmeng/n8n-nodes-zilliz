# Zilliz RAG Knowledge Base Guide

è¿™ä¸ªæ’ä»¶å®Œå…¨æ”¯æŒæ„å»º RAGï¼ˆRetrieval-Augmented Generationï¼‰çŸ¥è¯†åº“ã€‚é€šè¿‡ `VectorStoreZillizRAG` èŠ‚ç‚¹ï¼Œä½ å¯ä»¥å®ç°å®Œæ•´çš„ RAG å·¥ä½œæµç¨‹ã€‚

## ğŸš€ RAG åŠŸèƒ½ç‰¹æ€§

### 1. æ•°æ®æ¸…æ´—å’Œé¢„å¤„ç†
- **HTML æ ‡ç­¾æ¸…ç†**ï¼šè‡ªåŠ¨å»é™¤ HTML æ ‡ç­¾å’Œå®ä½“
- **æ–‡æœ¬æ ‡å‡†åŒ–**ï¼šæ¸…ç†å¤šä½™ç©ºæ ¼ã€è§„èŒƒåŒ–æ¢è¡Œ
- **æ™ºèƒ½åˆ†å—**ï¼šæ”¯æŒå¤šç§åˆ†å—ç­–ç•¥ï¼Œä¿æŒè¯­ä¹‰å®Œæ•´æ€§

### 2. æ–‡æ¡£åˆ†å—å¤„ç†
- **å¯é…ç½®åˆ†å—å¤§å°**ï¼šæ”¯æŒ 100-5000 å­—ç¬¦çš„åˆ†å—å¤§å°
- **é‡å ç­–ç•¥**ï¼šåˆ†å—é—´å¯é…ç½®é‡å ï¼Œé¿å…è¯­ä¹‰æ–­è£‚
- **è¾¹ç•Œæ£€æµ‹**ï¼šä¼˜å…ˆåœ¨å¥å­æˆ–æ®µè½è¾¹ç•Œåˆ†å—
- **æœ€å°åˆ†å—é™åˆ¶**ï¼šè¿‡æ»¤è¿‡å°çš„æ— æ•ˆåˆ†å—

### 3. å‘é‡åŒ–å­˜å‚¨
- **æ‰¹é‡æ’å…¥**ï¼šæ”¯æŒå¤§é‡æ–‡æ¡£çš„é«˜æ•ˆå­˜å‚¨
- **å…ƒæ•°æ®ä¿å­˜**ï¼šä¿ç•™æ–‡æ¡£æ ‡é¢˜ã€æ¥æºã€åˆ†å—ä¿¡æ¯ç­‰
- **è‡ªåŠ¨ç´¢å¼•**ï¼šåˆ†å—ç¼–å·ã€å­—ç¬¦ç»Ÿè®¡ã€æ—¶é—´æˆ³ç­‰

### 4. è¯­ä¹‰æ£€ç´¢
- **ç›¸ä¼¼åº¦æœç´¢**ï¼šåŸºäºå‘é‡çš„è¯­ä¹‰ç›¸ä¼¼åº¦æ£€ç´¢
- **ç»“æœè¿‡æ»¤**ï¼šæ”¯æŒç›¸ä¼¼åº¦é˜ˆå€¼è¿‡æ»¤
- **å…ƒæ•°æ®æŸ¥è¯¢**ï¼šå¯åŒ…å«æˆ–æ’é™¤å…ƒæ•°æ®ä¿¡æ¯
- **ç»“æœæ’åº**ï¼šæŒ‰ç›¸ä¼¼åº¦åˆ†æ•°æ’åº

### 5. AI Agent é›†æˆ
- **ä¸Šä¸‹æ–‡æ ¼å¼åŒ–**ï¼šä¸º AI Agent ä¼˜åŒ–çš„ä¸Šä¸‹æ–‡è¾“å‡º
- **æ¥æºæ ‡æ³¨**ï¼šæ¯ä¸ªæ£€ç´¢ç»“æœåŒ…å«æ¥æºå’Œç›¸å…³æ€§åˆ†æ•°
- **å»é‡å¤„ç†**ï¼šè‡ªåŠ¨å»é™¤é‡å¤æ¥æº

## ğŸ“‹ RAG å·¥ä½œæµç¨‹

### æ­¥éª¤ 1: åˆ›å»ºçŸ¥è¯†åº“
```json
{
  "operation": "createKnowledgeBase",
  "zillizDatabase": "default",
  "zillizCollection": "my_knowledge_base",
  "embeddingSettings": {
    "dimension": 1536,
    "metricType": "COSINE"
  }
}
```

### æ­¥éª¤ 2: å¤„ç†å¹¶å­˜å‚¨æ–‡æ¡£
```json
{
  "operation": "processAndStore",
  "contentField": "content",
  "titleField": "title",
  "textProcessing": {
    "cleanText": true,
    "removeHtml": true,
    "chunkSize": 1000,
    "chunkOverlap": 200,
    "minChunkSize": 50
  },
  "embeddingSettings": {
    "embeddingField": "embedding"
  }
}
```

### æ­¥éª¤ 3: è¯­ä¹‰æ£€ç´¢æŸ¥è¯¢
```json
{
  "operation": "semanticSearch",
  "queryText": "ç”¨æˆ·çš„é—®é¢˜",
  "queryVector": "[0.1, 0.2, ...]",
  "searchOptions": {
    "maxResults": 5,
    "similarityThreshold": 0.7,
    "includeMetadata": true
  }
}
```

### æ­¥éª¤ 4: AI Agent ä¸Šä¸‹æ–‡æŸ¥è¯¢
```json
{
  "operation": "queryWithContext",
  "queryText": "AI Agent çš„æŸ¥è¯¢",
  "queryVector": "[0.1, 0.2, ...]",
  "searchOptions": {
    "maxResults": 3,
    "similarityThreshold": 0.8
  }
}
```

## ğŸ”§ ä¸ Embedding èŠ‚ç‚¹çš„é…åˆ

### æ¨èå·¥ä½œæµ
1. **æ–‡æ¡£è¾“å…¥** â†’ **Embedding èŠ‚ç‚¹** â†’ **RAG processAndStore**
2. **ç”¨æˆ·æŸ¥è¯¢** â†’ **Embedding èŠ‚ç‚¹** â†’ **RAG queryWithContext** â†’ **AI Agent**

### Embedding èŠ‚ç‚¹é›†æˆç¤ºä¾‹
```
[æ–‡æ¡£] â†’ [OpenAI Embeddings] â†’ [Zilliz RAG Store]
[æŸ¥è¯¢] â†’ [OpenAI Embeddings] â†’ [Zilliz RAG Search] â†’ [OpenAI Chat]
```

## ğŸ“Š è¾“å‡ºæ ¼å¼

### processAndStore è¾“å‡º
```json
{
  "success": true,
  "processed_document": "æ–‡æ¡£æ ‡é¢˜",
  "chunks_created": 15,
  "total_characters": 12000,
  "average_chunk_size": 800,
  "insert_count": 15,
  "insert_ids": ["id1", "id2", ...],
  "collection": "knowledge_base",
  "database": "default"
}
```

### queryWithContext è¾“å‡º
```json
{
  "query": "ç”¨æˆ·é—®é¢˜",
  "context_chunks": [
    {
      "content": "ç›¸å…³æ–‡æœ¬å†…å®¹",
      "source": "æ–‡æ¡£æ ‡é¢˜",
      "relevance": 0.95
    }
  ],
  "context_text": "[Context 1] (Relevance: 0.950, Source: æ–‡æ¡£1)\næ–‡æœ¬å†…å®¹\n\n---\n\n[Context 2]...",
  "total_context_length": 2048,
  "sources": ["æ–‡æ¡£1", "æ–‡æ¡£2"],
  "collection": "knowledge_base",
  "database": "default"
}
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### 1. æ–‡æ¡£é—®ç­”ç³»ç»Ÿ
- ä¼ä¸šå†…éƒ¨æ–‡æ¡£æ£€ç´¢
- æŠ€æœ¯æ–‡æ¡£åŠ©æ‰‹
- äº§å“æ‰‹å†ŒæŸ¥è¯¢

### 2. æ™ºèƒ½å®¢æœ
- FAQ è‡ªåŠ¨å›ç­”
- å®¢æœçŸ¥è¯†åº“æ£€ç´¢
- å¤šè½®å¯¹è¯ä¸Šä¸‹æ–‡

### 3. å†…å®¹æ¨è
- ç›¸ä¼¼æ–‡ç« æ¨è
- ä¸ªæ€§åŒ–å†…å®¹å‘ç°
- ä¸»é¢˜ç›¸å…³æ€§åˆ†æ

### 4. ç ”ç©¶åŠ©æ‰‹
- å­¦æœ¯è®ºæ–‡æ£€ç´¢
- ç ”ç©¶èµ„æ–™æ•´ç†
- æ–‡çŒ®ç»¼è¿°è¾…åŠ©

## âš¡ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### åˆ†å—ç­–ç•¥
- **çŸ­æ–‡æ¡£**ï¼šchunk_size: 500, overlap: 100
- **é•¿æ–‡æ¡£**ï¼šchunk_size: 1200, overlap: 200
- **æŠ€æœ¯æ–‡æ¡£**ï¼šchunk_size: 800, overlap: 150

### æ£€ç´¢ç­–ç•¥
- **ç²¾ç¡®æŸ¥è¯¢**ï¼šsimilarity_threshold: 0.85+
- **å¹¿æ³›æ£€ç´¢**ï¼šsimilarity_threshold: 0.7+
- **æ¢ç´¢æ€§æŸ¥è¯¢**ï¼šsimilarity_threshold: 0.6+

### æ‰¹é‡å¤„ç†
- **å¤§é‡æ–‡æ¡£**ï¼šä½¿ç”¨æ‰¹é‡å¤„ç†èŠ‚ç‚¹
- **å®æ—¶æŸ¥è¯¢**ï¼šå•ç‹¬çš„æ£€ç´¢å·¥ä½œæµ
- **æ•°æ®æ›´æ–°**ï¼šå¢é‡æ›´æ–°ç­–ç•¥

## ğŸ” è°ƒè¯•å’Œç›‘æ§

### å¸¸è§é—®é¢˜
1. **å‘é‡ç¼ºå¤±**ï¼šç¡®ä¿ä½¿ç”¨ Embedding èŠ‚ç‚¹ç”Ÿæˆå‘é‡
2. **åˆ†å—è¿‡å°**ï¼šè°ƒæ•´ minChunkSize å‚æ•°
3. **æ£€ç´¢ç»“æœå°‘**ï¼šé™ä½ similarityThreshold
4. **æ€§èƒ½é—®é¢˜**ï¼šä¼˜åŒ–åˆ†å—å¤§å°å’Œç´¢å¼•ç­–ç•¥

### ç›‘æ§æŒ‡æ ‡
- åˆ†å—æ•°é‡å’Œå¹³å‡å¤§å°
- æ£€ç´¢å“åº”æ—¶é—´
- ç›¸ä¼¼åº¦åˆ†æ•°åˆ†å¸ƒ
- ä¸Šä¸‹æ–‡é•¿åº¦ç»Ÿè®¡

è¿™ä¸ª RAG èŠ‚ç‚¹ä¸º n8n æä¾›äº†å®Œæ•´çš„å‘é‡æ•°æ®åº“ RAG è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥ä¸å„ç§ AI æœåŠ¡å’Œ Embedding æä¾›å•†æ— ç¼é›†æˆã€‚
